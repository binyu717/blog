<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基本命令 | JAVA之路</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="shortcut icon" type="image/x-icon" href="./avatar.png">
    <meta name="description" content="行你所行，听从你心">
    
    <link rel="preload" href="/blog/assets/css/0.styles.b6bfb1ac.css" as="style"><link rel="preload" href="/blog/assets/js/app.f7a9413c.js" as="script"><link rel="preload" href="/blog/assets/js/2.ddedf7b8.js" as="script"><link rel="preload" href="/blog/assets/js/16.7e8254c4.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.28823f80.js"><link rel="prefetch" href="/blog/assets/js/11.907d6de2.js"><link rel="prefetch" href="/blog/assets/js/12.e0480859.js"><link rel="prefetch" href="/blog/assets/js/13.197b8968.js"><link rel="prefetch" href="/blog/assets/js/14.327ec1cf.js"><link rel="prefetch" href="/blog/assets/js/15.e4a62733.js"><link rel="prefetch" href="/blog/assets/js/17.a5fd2c58.js"><link rel="prefetch" href="/blog/assets/js/18.09512bd4.js"><link rel="prefetch" href="/blog/assets/js/19.4093ac92.js"><link rel="prefetch" href="/blog/assets/js/20.0a325460.js"><link rel="prefetch" href="/blog/assets/js/21.41949fa9.js"><link rel="prefetch" href="/blog/assets/js/22.aebd4cfb.js"><link rel="prefetch" href="/blog/assets/js/23.f9a7fbea.js"><link rel="prefetch" href="/blog/assets/js/24.e1b48ee8.js"><link rel="prefetch" href="/blog/assets/js/25.b990b784.js"><link rel="prefetch" href="/blog/assets/js/26.a87045c1.js"><link rel="prefetch" href="/blog/assets/js/27.054622f5.js"><link rel="prefetch" href="/blog/assets/js/28.641f720a.js"><link rel="prefetch" href="/blog/assets/js/29.4b365e5d.js"><link rel="prefetch" href="/blog/assets/js/3.b2bfae33.js"><link rel="prefetch" href="/blog/assets/js/30.46ac7154.js"><link rel="prefetch" href="/blog/assets/js/31.396b63a7.js"><link rel="prefetch" href="/blog/assets/js/32.27b8aea8.js"><link rel="prefetch" href="/blog/assets/js/33.2bdab81b.js"><link rel="prefetch" href="/blog/assets/js/34.0c7b821a.js"><link rel="prefetch" href="/blog/assets/js/35.2c48d1d3.js"><link rel="prefetch" href="/blog/assets/js/4.fbcf4621.js"><link rel="prefetch" href="/blog/assets/js/5.ec4b3f90.js"><link rel="prefetch" href="/blog/assets/js/6.27888615.js"><link rel="prefetch" href="/blog/assets/js/7.e23a1d77.js"><link rel="prefetch" href="/blog/assets/js/8.1314a140.js"><link rel="prefetch" href="/blog/assets/js/9.4472f6b1.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b6bfb1ac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">JAVA之路</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="http://caibaojian.com/vuepress/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vuepress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="http://caibaojian.com/vuepress/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vuepress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>java</span> <span class="arrow down"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mysql</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>oracle</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>postgresql</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>redis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mybatis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>maven</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>windows</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>单元测试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>问题积累</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>读书笔记</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="基本命令"><a href="#基本命令" class="header-anchor">#</a> 基本命令</h2> <ul><li><p>配置个人信息</p> <blockquote><p>$ git config --global user.name &quot;Your Name&quot;<br>
$ git config --global user.email &quot;email@example.com&quot;</p></blockquote></li> <li><p>初始化</p> <blockquote><p>$ git init</p></blockquote></li> <li><p>拉取远程的Repo到本地</p> <blockquote><p>$ git clone xxxxxx</p></blockquote></li> <li><p>文件添加到仓库</p> <blockquote><p>$ git add -p</p></blockquote></li> <li><p>把文件提交到仓库</p> <blockquote><p>$ git commit -m &quot;add LICENSE&quot;</p></blockquote></li> <li><p>查看difference</p> <blockquote><p>$ git diff<br>
git diff HEAD -- readme.txt命令可以查看工作区和版本库里面最新版本的区别</p></blockquote></li> <li><p>显示从最近到最远的提交日志</p> <blockquote><p>$ git log --pretty=oneline</p></blockquote></li> <li><p>版本回退</p> <blockquote><p>$ git reset --hard HEAD^ # 当前版本HEAD,上一个版本HEAD^,上上个版本HEAD^^</p></blockquote></li> <li><p>查看命令记录</p> <blockquote><p>git reflog</p></blockquote></li> <li><p>丢弃工作区的修改，回到最近一次git commit或git add时的状态：</p> <blockquote><p>$ git checkout -- READER.md</p></blockquote></li> <li><p>把暂存区的修改撤销掉（unstage）</p> <blockquote><p>$ git reset HEAD READER.md</p></blockquote></li> <li><p>在本地仓库删除文件</p> <blockquote><p>$ git rm 我的文件</p></blockquote></li> <li><p>在本地仓库删除文件夹</p> <blockquote><p>$ git rm -r 我的文件夹/<br> <em>#此处-r表示递归所有子目录，如果你要删除的，是空的文件夹，此处可以不用带上-r。</em></p></blockquote></li> <li><p>本地仓库关联到远程仓库</p> <blockquote><p>$ git remote add origin xxxxx</p></blockquote></li> <li><p>删除远程关联</p> <blockquote><p>$ git remote remove origin</p></blockquote></li> <li><p>向远程库推送更新</p> <blockquote><p>$ git push origin master</p></blockquote></li> <li><p>创建+切换dev分支</p> <blockquote><p>$ git checkout -b dev<br>
#相当于<br>
$ git branch dev # 创建分支<br>
$ git checkout dev</p></blockquote></li> <li><p>查看当前分支，当前分支前面标有×号</p> <blockquote><p>$ git branch</p></blockquote></li> <li><p>删除dev分支</p> <blockquote><p>$ git branch -d dev</p></blockquote></li> <li><p>要查看远程库的信息</p> <blockquote><p>$ git remote<br>
$ git remote -v  <em>列出详细信息，在每一个名字后面列出其远程url</em></p></blockquote></li></ul> <h2 id="git-stash-系列"><a href="#git-stash-系列" class="header-anchor">#</a> git stash 系列</h2> <blockquote><p>把所有未提交的修改（包括暂存的和非暂存的）都保存起来，用于后续恢复当前工作目录</p></blockquote> <ul><li>命令跟 Git stash 很像。 但是这个命令带有各种选项
<blockquote><p>$ git stash save &quot;&quot;</p></blockquote></li> <li>查看工作现场列表
<blockquote><p>$ git stash list</p></blockquote></li> <li>恢复工作现场
<blockquote><p>$ git stash pop  <em>恢复的同时把stash内容也删了, stash@{0} 更新为了上一个版本的 stash</em><br>
$ git stash apply<br> <em>将堆栈中最顶层的 stash 拿出并交回给代码仓库。想获取一些其他的 stash ，你可以指定 stash ID</em></p></blockquote></li> <li>显示了 stash 之间的差异的概要
<blockquote><p>$ git stash show<br> <em>git stash show -p 显示完整的c差异信息</em><br> <em>git stash show stash@{1} 指定 stash ID 来获取差异的概要</em></p></blockquote></li> <li>创建一个最新 stash 的新的分支，然后删除该stash,也可以指定 stash ID
<blockquote><p>$ git stash branch branchName</p></blockquote></li> <li>删除仓库中的所有的 stashes
<blockquote><p>$ git stash clear</p></blockquote></li> <li>从堆栈中删除最新的stash,同样可以指定 stash ID
<blockquote><p>$ git stash drop</p></blockquote></li></ul> <h2 id="git-tag"><a href="#git-tag" class="header-anchor">#</a> git tag</h2> <ul><li>查看所有标签
<blockquote><p>git tag</p></blockquote></li> <li>查看标签详情
<blockquote><p>git show <tagname></tagname></p></blockquote></li> <li>创建标签
<blockquote><p>git tag -a <code>&lt;tagname&gt;</code> -m&quot;&quot; <code>&lt;commitId&gt;</code></p></blockquote></li> <li>推送至远程
<blockquote><p>git push origin <code>&lt;tagname&gt;</code></p></blockquote></li> <li>删除本地标签
<blockquote><p>git tag -d <code>&lt;tagname&gt;</code></p></blockquote></li> <li>删除远程标签（只会删除远程，本地保留）
<blockquote><p>git push origin :refs/tags/<code>&lt;tagname&gt;</code></p></blockquote></li></ul> <h2 id="远程仓库"><a href="#远程仓库" class="header-anchor">#</a> 远程仓库</h2> <ul><li>更换远程仓库地址，URL为新地址
<blockquote><p>git remote set-url origin URL</p></blockquote></li> <li>删除现有远程仓库
<blockquote><p>git remote rm origin</p></blockquote></li> <li>添加新远程仓库
<blockquote><p>git remote add origin url</p></blockquote></li></ul> <h2 id="reset和revert"><a href="#reset和revert" class="header-anchor">#</a> reset和revert</h2> <h3 id="reset-回退到指定的commit"><a href="#reset-回退到指定的commit" class="header-anchor">#</a> reset 回退到指定的commit</h3> <div class="language- extra-class"><pre class="language-text"><code>--soft 回退后a分支修改的代码被保留并标记为add的状态（git status 是绿色的状态）
--mixed 重置索引，但不重置工作树，更改后的文件标记为未提交（add）的状态。默认操作。
--hard 重置索引和工作树，并且a分支修改的所有文件和中间的提交，没提交的代码都被丢弃了。
--merge 和--hard类似，只不过如果在执行reset命令之前你有改动一些文件并且未提交，merge会保留你的这些修改，hard则不会。【注：如果你的这些修改add过或commit过，merge和hard都将删除你的提交】
--keep 和--hard类似，执行reset之前改动文件如果是a分支修改了的，会提示你修改了相同的文件，不能合并。如果不是a分支修改的文件，会移除缓存区。git status还是可以看到保持了这些修改。

</code></pre></div><h3 id="revert-用一次新的commit来中和指定的commit-不影响该commit后的代码"><a href="#revert-用一次新的commit来中和指定的commit-不影响该commit后的代码" class="header-anchor">#</a> revert 用一次新的commit来中和指定的commit（不影响该commit后的代码）</h3> <h2 id="项目实践"><a href="#项目实践" class="header-anchor">#</a> 项目实践</h2> <ul><li>版本切换</li></ul> <blockquote><p>HEAD指向的版本就是当前版本，因此，Git允许我们在版本的历史之间穿梭，使用命令<br>
git reset --hard commit_id。<br>
穿梭前，用git log可以查看提交历史，以便确定要回退到哪个版本。
git log --pretty=oneline简约版<br>
要重返未来，用git reflog查看命令历史，以便确定要回到未来的哪个版本。</p></blockquote> <ul><li>撤销更改
<ul><li><p>已修改，未暂存  ：
查看工作区与暂存区之间的差异</p> <blockquote><p>git diff</p></blockquote> <p>撤销操作：</p> <blockquote><p>git checkout . 或者git reset --hard</p></blockquote></li> <li><p>已暂存，未提交<br>
查看暂存区和本地仓库之间的差异 ：</p> <blockquote><p>git diff --cached</p></blockquote> <p>撤销操作：</p> <blockquote><p>git reset   修改退回到了git add .之前的状态<br>
git checkout .</p></blockquote> <p>或者</p> <blockquote><p>git reset --hard</p></blockquote></li> <li><p>已提交，未推送<br>
本地仓库与远程仓库的差异:</p> <blockquote><p>git diff master origin/master</p></blockquote> <p>撤销操作：</p> <blockquote><p>git reset --hard origin/master</p></blockquote></li> <li><p>已推送<br>
撤销操作：需要先恢复本地仓库，再强制push到远程仓库</p> <blockquote><p>git reset --hard HEAD^<br>
git push -f</p></blockquote></li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.f7a9413c.js" defer></script><script src="/blog/assets/js/2.ddedf7b8.js" defer></script><script src="/blog/assets/js/16.7e8254c4.js" defer></script>
  </body>
</html>
